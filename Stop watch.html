<html>
    <head>
        <title>Stop Watch</title>
        <style>
            body{
                font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
                text-align: center;
                background: rgb(131, 130, 132);
                height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            .container{
                background: rgb(60, 109, 182);
                backdrop-filter: blue(10px);
                padding: 20px;
                border-radius: 40px;
                box-shadow: 0 4px 10px red;
                width: 500px;
                text-align: center;
                color: white;
            }
            .stopwatch{
                font-size: 2.5em;
                font-weight: bold;
                padding: 40px 0;
            }
            .buttons{
                display: flex;
                justify-content: center;
                gap: 15px;
                margin: 15px 0;
            }
            button{
                padding: 15px 20px;
                border: none;
                border-radius: 15px;
                font-size: 20px;
                cursor: pointer;
                font-weight: bold;
                transition: 0.3s;
                color: white;
            }
            button:hover{
                transform: scale(1.1);
            }
            .start{background: #28a745;}
            .stop{background: #dc3545;}
            .reset{background: #ffc107; color: black;}
            .lap{background: brown;}
            .laps{
                margin-top: 10px;
                max-height: 200px;
                overflow-y: auto;
                padding: 5px;
                border-top: 2px solid rgba(255,255,255,00.3s);
            }
            .lap-item{
                background: black;
                font-weight: bold;
                padding: 8px;
                margin: 5px 0;
                border-radius: 10px;
                font-size: 1em;
                animation: fadeIn 0.3s ease-in-out;
            }
            @keyframes fadeIn{
                from{opacity: 0; transform: translateY(-10px);}
                to{opacity: 1; transform: translateY(0);}
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h2>Stopwatch with Laps</h2>
            <div class="stopwatch" id="display">00:00:00</div>
            <div class="buttons">
                <button class="start" onclick="startStopwatch()">Start</button>
                <button class="stop" onclick="stopStopwatch()">Stop</button>
                <button class="reset" onclick="resetStopwatch()">Reset</button>
                <button class="lap" onclick="recordLap()">Lap</button>
            </div>
            
            <div class="laps" id="lapsList"></div>
        </div>

        <script>
            let startTime,updatedTime,difference=0;
            let running = false,interval,laps=[];

            function startStopwatch()
            {
                if(!running)
            {
                startTime = new Date().getTime() - difference;
                interval = setInterval(updateTime,10);
                running = true;
            }
            }
            function stopStopwatch()
            {
                if(running)
            {
                clearInterval(interval);
                running = false;
                difference = new Date().getTime() - startTime;
            }
            }
            function resetStopwatch()
            {
                clearInterval(interval);
                running = false;
                document.getElementById("display").innerText = "00:00:00";
                document.getElementById("lapsList").innerHTML = "";
                difference = 0;
                laps = [];
            }
            function recordLap()
            {
                if(running)
            {
                laps.push(document.getElementById("display").innerText);
                updateLaps();
            }
            }
            function updateLaps()
            {
                let lapList = document.getElementById("lapsList");
                lapList.innerHTML = "";
                laps.forEach((lap,index)=>{
                    let lapItem = document.createElement("div");
                    lapItem.className = "lap-item";
                    lapItem.innerText = `Lap ${index + 1}: ${lap}`;
                    lapList.appendChild(lapItem);
                });
            }
            function updateTime()
            {
                updatedTime  = new Date().getTime() - startTime;
                let milliseconds = Math.floor((updatedTime % 1000)/10);
                let seconds = Math.floor((updatedTime / 1000) % 60);
                let minutes = Math.floor(updatedTime/60000);

                milliseconds = milliseconds < 10 ? "0" + milliseconds : milliseconds;
                seconds = seconds < 10 ? "0" + seconds : seconds;
                minutes = minutes < 10 ? "0" + minutes : minutes;
                document.getElementById("display").innerText = `${minutes}:${seconds}:${milliseconds}`;
            }
        </script>
    </body>
</html>